<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>AI EXP</title>
	<meta name="description" content="">
	<meta name="author" content="Kai Sun">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->
    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="AI EXP Atom Feed" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52589612-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">AI EXP</a>
			<ul class="nav">
					<li><a href="/pages/yixin.html">Yixin</a></li>
					<li class="active"><a href="/category/history.html">History</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://www.kaisun.org/">About me</a></li>
				<li><a href="http://gomocup.org/">Gomocup</a></li>
				<li><a href="http://www.wind23.com/">Tianyi Hao</a></li>
				<li><a href="mailto:sunkaicn@gmail.com">Contact me</a></li>
			</ul>
			<!-- <div class="social">
			<h3>Social</h3>
			<ul>
			</ul>
			</div> -->
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Lin Shu-Hsuan versus Yixin</h1></div>
		<div class="well small">Permalink: <a class="more" href="/ai-vs-human-renju-2.html">2017-07-16</a>
by <a class="url fn" href="/author/kai-sun.html">Kai Sun </a>
 in <a href="/category/history.html">History</a>
tags: <a href="/tag/renju.html">renju</a> </div>
		<div><p><strong>(Last update: 2017-7-31)</strong> </p>
<h2>Background</h2>
<p>CCTV has been planning a TV show about competitions between AIs and humans (The name of the TV show is <em>机智过人</em>). In the original plan, one of the competitions is a match between Yixin and top human renju players in July or August. A director of the TV show suggested organizing a match with a top player to do a preliminary test of Yixin before recording. So, with the help of Tao Tao, I got in touch with Lin Shu-Hsuan and planned to organize a match with him starting from June 10th. However, on June 8th, I was informed by CCTV that the renju competition in the TV show was canceled due to CCTV's technical issues. The news was unexpected and depressing, but CCTV's decision could hardly be changed. </p>
<p>Because of the cancellation, it's no longer necessary to have the match with the aim of doing a preliminary test of Yixin only. Therefore, I asked Lin Shu-Hsuan (1) if he still would like to have the match, and (2) if he would like to postpone the match to July so that the preparation that had been being worked on for CCTV's match could be used, and thus the match could be more formal. We then came to an agreement that we would still have the match, and the match would take place in July.</p>
<h2>Preparation</h2>
<p>Compared with the preparation of <a href="/ai-vs-human-renju.html">the match with Epifanov Dmitry</a>, a lot more effort was put into opening book preparation. This time, the opening book preparation consists of 3 parts:</p>
<ol>
<li><strong>Verifying game databases</strong> We managed to collect and verify many game databases. Those databases can be classified into 2 types: (1) Databases of sure win/loss positions; (2) Databases of best moves. The verification was done automatically by Yixin.</li>
<li><strong>5th moves in Soosorv-8</strong> We analyzed the possible 5th moves for each opening and 4th move. The analysis was done automatically by Yixin.</li>
<li><strong>Adding human opening knowledge</strong> The results of part 1 and 2 were not perfect, so they were manually revised based on human knowledge. In addition, the opening strategies such as the conditions under which the AI should choose to swap were added.  </li>
</ol>
<p>Kai Yu provided hundreds of CPU cores to the preparation, and Runzhe Yang scheduled the best move verification jobs (part 1(2)) and 5th move analysis jobs (part 2) on those CPUs. Sure win/loss verification jobs (part 1(1)) were run on my computers. Tianyi Hao made great efforts in working on part 3 to finish up all the rest of the opening preparation.</p>
<p>Compared with the last year's version, many modifications were introduced. One of the modification is a bug fix to the parallel search, which makes Yixin be able to take advantage of multiple-core processors more effectively. This directly helps Yixin gain a lot of Elo when it runs on a powerful computer.</p>
<p>Tao Tao offered much help in finding suitable places for the match (below is a photo).</p>
<p><img alt="Alt text" src="/images/lin1.jpg"></p>
<h2>Match Settings</h2>
<ul>
<li>Number of Round: 4</li>
<li>Rule: Soosorv-8</li>
<li>Computer: Amazon EC2 m4.16xlarge</li>
<li>Time Control: 120 min/game + 30 sec/move<ul>
<li>Human player's time is counted by a table clock; Yixin's time is counted by itself</li>
</ul>
</li>
</ul>
<h2>Game Records</h2>
<h3>Round 1 (July 15):</h3>
<ul>
<li><strong>Black</strong>: Yixin</li>
<li><strong>White</strong>: Lin Shu-Hsuan</li>
<li><strong>Swap</strong>: +, + </li>
<li><strong>Alternatives</strong>: G9, J11, F8, I9, G8</li>
<li><strong>Result</strong>: Black wins</li>
</ul>
<div class="highlight"><pre><span></span>h8h9h10i10f8i9g9i11i8g8j11f10i12e7e6h7i6k8k10l9j9j10h12h13g5h5g4i7g7g6f5h3h6i5d4
</pre></div>


<p><img alt="Alt text" src="/images/lin_vs_yixin_1.png"> </p>
<p>Yixin was out the opening book after the 17th move. The 18th seems to be a turning point in the game, since from Yixin's perspective, Lin Shu-Hsuan played almost perfectly before that point and <code>i7</code> should be a better choice for the 18th. Yixin kept the advantage after that, and the 27th was proved to be a sure win during the game. The evaluation<sup>1</sup> is shown in the below figure.</p>
<p>Since Yixin had 94 minutes left, Tianyi Hao proposed to modify the time management to make better use of its time, hence the longer average thinking time per move in round 2-4. </p>
<p><img alt="Alt text" src="/images/lin_vs_yixin_eval1.png"></p>
<h3>Round 2 (July 16):</h3>
<ul>
<li><strong>Black</strong>: Lin Shu-Hsuan</li>
<li><strong>White</strong>: Yixin</li>
<li><strong>Swap</strong>: +, + </li>
<li><strong>Alternatives</strong>: I10, J9, G9, I7, K7, I8, J8</li>
<li><strong>Result</strong>: White wins</li>
</ul>
<div class="highlight"><pre><span></span>h8i9j7h9i8g8g9i10f7i7j11j8k9h10g11h11h12i13i11g13j10l8j9j13h13i12g10g6k7k11l10k14l15k6i6m12m10m8k8l9g4h5l7k13
</pre></div>


<p><img alt="Alt text" src="/images/lin_vs_yixin_2.png"></p>
<p>In the match with Epifanov Dmitry, when Yixin is assgined the tentative White, it would always make the 4th move and let the human decide whether to swap. This time, however, Yixin let Lin Shu-Hsuan put the 4th thanks to better opening book preparation. Tao Tao told me that both he and Lin Shu-Hsuan were surprised at that.</p>
<p>Yixin was out the opening book after the 16th move. Yixin slowly accumulated small advantage until Lin Shu-Hsuan made a mistake analyzing the upper-right corner. The 43th was proved to be a sure loss during the game. The evaluation<sup>1</sup> is shown in the below figure.</p>
<p><img alt="Alt text" src="/images/lin_vs_yixin_eval2.png"></p>
<h3>Round 3 (July 22):</h3>
<ul>
<li><strong>Black</strong>: Lin Shu-Hsuan</li>
<li><strong>White</strong>: Yixin</li>
<li><strong>Swap</strong>: -, + </li>
<li><strong>Alternatives</strong>: J7, I7, I6, G10</li>
<li><strong>Result</strong>: White wins</li>
</ul>
<div class="highlight"><pre><span></span>h8h9h6i8g10i10i7j11k12g9i9j8j10k11i11h7h12g13i12j12f9f7g8h11g6f6l10g12f13k8j9l8m8k6k7g5f5h4i3j7l5j5i4i6h5k4
</pre></div>


<p><img alt="Alt text" src="/images/lin_vs_yixin_3.png"></p>
<p>Yixin was out the opening book after the 16th move. The game was leaning towards a big advantage of Yixin from the 19th. From Yixin's perspective, before the 19th, Lin Shu-Hsuan played almost perfectly, and <code>f7</code> might be a better choice for the 19th. The 35th was proved to be a sure loss during the game. The evaluation<sup>1</sup> is shown in the below figure.</p>
<p><img alt="Alt text" src="/images/lin_vs_yixin_eval3.png"></p>
<h3>Round 4 (July 23):</h3>
<ul>
<li><strong>Black</strong>: Lin Shu-Hsuan</li>
<li><strong>White</strong>: Yixin</li>
<li><strong>Swap</strong>: -, - </li>
<li><strong>Alternatives</strong>: I9, I8, I7, J8, G8, G9</li>
<li><strong>Result</strong>: Black wins</li>
</ul>
<div class="highlight"><pre><span></span>h8h9j10i10g9i7i8g7f8j8f7e8f6f5e7d6d8g5k9h12f10f9d10e11d9d7g10e10e9b5c6f4h6c7b10c9c11b12d12d11e13f14a9
</pre></div>


<p><img alt="Alt text" src="/images/lin_vs_yixin_4.png"></p>
<p>Yixin was out the opening book after the 5th move. There was little preparation in the opening book for this 5th, and post-game analysis done by some renju experts showed that the 10th was already a sure loss. Lin Shu-Hsuan grasped the opportunity and played perfectly during the whole game. The evaluation<sup>1</sup> is shown in the below figure.</p>
<p><img alt="Alt text" src="/images/lin_vs_yixin_eval4.png"></p>
<h2>Other Information</h2>
<p><a href="https://vk.com/topic-1735025_35634686">Discussion on VK</a></p>
<h4>Depth</h4>
<p>The average minimum depth of Yixin in the match is about 18.</p>
<hr>
<p><strong>Footnotes:</strong></p>
<ol>
<li>Here, a simple normalization has been done to make a score of 0 correspond to balanced positions.  </li>
</ol></div>
		<!--<div>
			<h2>Comments</h2>
		<div>-->
	</div>	
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; Kai Sun</p>
		</footer>
	  </div>

	</div>
</body>
</html>